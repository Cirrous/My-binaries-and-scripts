#!/bin/bash
 
 #Set path to screenrecordings directory
 rec_dir=~/Videos
 cd "$rec_dir"

 # Timestamp for Screenrecord names
TS=$(date +%Y%m%d_%H%M%S)

PID=$(pgrep -x wf-recorder)

if [ -n "$PID" ]; then
    kill "$PID"
    notify-send -t 3000 "Screen Recording" "stopped"
else
    if [ "$1" == "frame" ]; then
        notify-send -t 1000 "Screen Recording" "started"
        wf-recorder -g "$(slurp)" --audio -f "recording_$TS.mkv"
        else
        notify-send -t 1000 "Screen Recording" "started"
        wf-recorder --audio -f "recording_$TS.mkv"
    fi
fi